<div class="calculator-container">
  <div class="calculator-card">
    <h2 class="calculator-title">Wilks Score Calculator</h2>
    <p class="calculator-description">
      The Wilks Coefficient is a formula used in powerlifting to compare the strength of lifters across different weight classes.
    </p>
    
    <form [formGroup]="calculatorForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="bodyWeight">Body Weight (kg)</label>
        <input 
          type="number" 
          formControlName="bodyWeight" 
          class="form-control" 
          [ngClass]="{ 'is-invalid': f['bodyWeight'].touched && f['bodyWeight'].errors }" 
        />
        <div *ngIf="f['bodyWeight'].touched && f['bodyWeight'].errors" class="invalid-feedback">
          <div *ngIf="f['bodyWeight'].errors['required']">Body weight is required</div>
          <div *ngIf="f['bodyWeight'].errors['min']">Body weight must be at least 30 kg</div>
          <div *ngIf="f['bodyWeight'].errors['max']">Body weight must be less than 300 kg</div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="liftedWeight">Weight Lifted (kg)</label>
        <input 
          type="number" 
          formControlName="liftedWeight" 
          class="form-control" 
          [ngClass]="{ 'is-invalid': f['liftedWeight'].touched && f['liftedWeight'].errors }" 
        />
        <div *ngIf="f['liftedWeight'].touched && f['liftedWeight'].errors" class="invalid-feedback">
          <div *ngIf="f['liftedWeight'].errors['required']">Weight lifted is required</div>
          <div *ngIf="f['liftedWeight'].errors['min']">Weight lifted must be greater than 0</div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="gender">Gender</label>
        <div class="gender-selector">
          <div class="gender-option">
            <input type="radio" id="male" formControlName="gender" value="male">
            <label for="male">Male</label>
          </div>
          <div class="gender-option">
            <input type="radio" id="female" formControlName="gender" value="female">
            <label for="female">Female</label>
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <button type="submit" [disabled]="calculatorForm.invalid || loading" class="btn btn-primary">
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
          Calculate
        </button>
      </div>
    </form>
    
    <div *ngIf="result !== null" class="result-container">
      <h3>Your Wilks Score:</h3>
      <div class="result-value">{{ result }}</div>
      <div class="result-interpretation">
        <p>Interpretation:</p>
        <ul>
          <li *ngIf="result < 200">Beginner: &lt; 200</li>
          <li *ngIf="result >= 200 && result < 300" [ngClass]="{'highlighted': result >= 200 && result < 300}">Novice: 200-300</li>
          <li *ngIf="result >= 300 && result < 400" [ngClass]="{'highlighted': result >= 300 && result < 400}">Intermediate: 300-400</li>
          <li *ngIf="result >= 400 && result < 500" [ngClass]="{'highlighted': result >= 400 && result < 500}">Advanced: 400-500</li>
          <li *ngIf="result >= 500" [ngClass]="{'highlighted': result >= 500}">Elite: 500+</li>
        </ul>
      </div>
    </div>
    
    <div *ngIf="error" class="alert alert-danger mt-3">{{ error }}</div>
  </div>
</div>
